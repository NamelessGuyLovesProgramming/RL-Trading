<!DOCTYPE html>
<html>
<head>
    <title>Debug Zoom Issue</title>
</head>
<body>
    <h1>Debug Zoom Issue</h1>
    <div id="debug-info"></div>

    <script>
        // Teste ob das Intelligent Zoom System im Chart verf√ºgbar ist
        function debugZoomSystem() {
            const debugDiv = document.getElementById('debug-info');

            // √ñffne Chart-Fenster und checke das System
            const chartWindow = window.open('http://localhost:8002', 'chart', 'width=1200,height=800');

            setTimeout(() => {
                try {
                    // Check ob IntelligentZoomSystem Klasse verf√ºgbar ist
                    if (typeof chartWindow.IntelligentZoomSystem !== 'undefined') {
                        debugDiv.innerHTML += '<p>‚úÖ IntelligentZoomSystem Klasse gefunden</p>';
                    } else {
                        debugDiv.innerHTML += '<p>‚ùå IntelligentZoomSystem Klasse NICHT gefunden</p>';
                    }

                    // Check ob window.intelligentZoom initialisiert ist
                    if (chartWindow.intelligentZoom) {
                        debugDiv.innerHTML += '<p>‚úÖ window.intelligentZoom initialisiert</p>';
                        debugDiv.innerHTML += '<p>üìä Aktuelle Kerzen: ' + chartWindow.intelligentZoom.currentCandles + '</p>';
                        debugDiv.innerHTML += '<p>üéØ Timeframe: ' + chartWindow.intelligentZoom.currentTimeframe + '</p>';
                    } else {
                        debugDiv.innerHTML += '<p>‚ùå window.intelligentZoom NICHT initialisiert</p>';
                    }

                    // Check ob Chart und CandlestickSeries existieren
                    if (chartWindow.chart) {
                        debugDiv.innerHTML += '<p>‚úÖ Chart verf√ºgbar</p>';
                    } else {
                        debugDiv.innerHTML += '<p>‚ùå Chart NICHT verf√ºgbar</p>';
                    }

                    if (chartWindow.candlestickSeries) {
                        debugDiv.innerHTML += '<p>‚úÖ CandlestickSeries verf√ºgbar</p>';
                    } else {
                        debugDiv.innerHTML += '<p>‚ùå CandlestickSeries NICHT verf√ºgbar</p>';
                    }

                } catch (error) {
                    debugDiv.innerHTML += '<p>‚ùå Fehler beim Zugriff auf Chart-Fenster: ' + error.message + '</p>';
                }
            }, 3000);
        }

        // Starte Debug nach 1 Sekunde
        setTimeout(debugZoomSystem, 1000);
    </script>
</body>
</html>